(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7273"],{7631:function(s,a,t){"use strict";t.r(a);var n=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[s._m(0),s._m(1),s._m(2),s._m(3),t("pre",{staticClass:"hljs"},[t("span",{staticClass:"hljs-lang",on:{click:s.ctrlC}},[t("em",[s._v("js")]),s._v("/复制代码")]),s._m(4)]),s._m(5),s._m(6),t("pre",{staticClass:"hljs"},[t("span",{staticClass:"hljs-lang",on:{click:s.ctrlC}},[t("em",[s._v("js")]),s._v("/复制代码")]),s._m(7)]),s._m(8),s._m(9),s._m(10)])},l=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("h3",{attrs:{id:"%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%B8%B8%E8%A7%81%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%B8%B8%E8%A7%81%E7%9A%84%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"}}),s._v(" 垃圾回收机制与常见的内存泄漏")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("blockquote",[t("p",[s._v("了解垃圾回收要先了解内存分配，在js中，每个string、arr、obj都需要一定得内存，\n再给它们赋值时，在内存中给它们分配的一定得空间。不管有多大的空间，总有用完的一刻。\n所以出现了垃圾回收机制，将不用的变量，将其空间清除。那么浏览器是如何进行垃圾回收呢？")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("h4",{attrs:{id:"%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%3A"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%3A"}}),s._v(" 标记清除:")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("blockquote",[t("p",[s._v("js中分为全局变量，和局部变量。全局变量中的变量永远不会被回收（这就是慎用全局变量的原因）。\n在局部环境中，进入局部环境给每个变量添加标记。环境结束后清除没有被引用的变量")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("code",[t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" a = "),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v("; "),t("span",{staticClass:"hljs-comment"},[s._v("// 全局变量 （不会被回收）")]),s._v("\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("fn1")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" b = "),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v(";\n}\nfn1(); "),t("span",{staticClass:"hljs-comment"},[s._v("// 运行结束后 b 会被回收")]),s._v("\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("fn2")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" c = "),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v(";\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("fn3")]),s._v(" ("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{\n        "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(c);\n    }\n}\nfn2()(); "),t("span",{staticClass:"hljs-comment"},[s._v("// c不会被回收")]),s._v("\n")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("h4",{attrs:{id:"%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0(%E5%B7%B2%E5%BA%9F%E5%BC%83)%3A"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0(%E5%B7%B2%E5%BA%9F%E5%BC%83)%3A"}}),s._v(" 引用计数(已废弃):")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("blockquote",[t("p",[s._v("声明变量并赋值后 引用次数加一；\n同一个值被赋予给另一个变量，引用次数加一；\n相反，这个变量引用其他值，引用次数减一；\n当引用次数为0时，可以被回收")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("code",[t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("fn1")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" a = {}; +"),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(" "),t("span",{staticClass:"hljs-comment"},[s._v("// 引用次数1")]),s._v("\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" b = a;  +"),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(" "),t("span",{staticClass:"hljs-comment"},[s._v("// 引用次数2")]),s._v("\n    a = "),t("span",{staticClass:"hljs-number"},[s._v("5")]),s._v("; "),t("span",{staticClass:"hljs-number"},[s._v("-1")]),s._v(" "),t("span",{staticClass:"hljs-comment"},[s._v("// 引用次数1")]),s._v("\n    b = {} "),t("span",{staticClass:"hljs-number"},[s._v("-1")]),s._v(" "),t("span",{staticClass:"hljs-comment"},[s._v("// 引用次数0")]),s._v("\n}\nfn1()\n"),t("span",{staticClass:"hljs-comment"},[s._v("// IE7中循环引用会导致无法清除")]),s._v("\n"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("fn2")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" a = {} "),t("span",{staticClass:"hljs-comment"},[s._v("// a+1  引用次数1")]),s._v("\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" b = { "),t("span",{staticClass:"hljs-attr"},[s._v("SEX")]),s._v(": "),t("span",{staticClass:"hljs-string"},[s._v("'N'")]),s._v("}; "),t("span",{staticClass:"hljs-comment"},[s._v("// b+1 引用次数1")]),s._v("\n    a.pro = b; "),t("span",{staticClass:"hljs-comment"},[s._v("// a+2   引用次数2")]),s._v("\n    b.proA = a; "),t("span",{staticClass:"hljs-comment"},[s._v("//b +1  引用次数2")]),s._v("\n}\nfn2()\n")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("h4",{attrs:{id:"%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E8%A7%A6%E5%8F%91"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E8%A7%A6%E5%8F%91"}}),s._v(" 垃圾回收机制什么时候触发")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("blockquote",[t("p",[s._v("有一个比较经典的案例，IE6规定(256个变量、4096个对象、64k字符)是会触发\n问题（如果系统一直有大于256个变量呢）好在IE7 改正了这一问题（内存占用超过85%触发）。\n一般会根据不同浏览器会有不同垃圾回收周期，具体何时触发垃圾回收不清楚")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("h4",{attrs:{id:"v8-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%EF%BC%88%E5%B0%9A%E6%9C%AA%E4%BA%86%E8%A7%A3%EF%BC%89"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v8-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%EF%BC%88%E5%B0%9A%E6%9C%AA%E4%BA%86%E8%A7%A3%EF%BC%89"}}),s._v(" v8 垃圾回收机制（尚未了解）")])}],c=t("c701"),e={},_=Object(c["a"])(e,n,l,!1,null,null,null);a["default"]=_.exports}}]);