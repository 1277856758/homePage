(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3ab1"],{"5e6a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"%E5%A3%B0%E5%91%BD%E5%91%A8%E6%9C%9F"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#%E5%A3%B0%E5%91%BD%E5%91%A8%E6%9C%9F"}}),t._v(" 声命周期")]),n("h2",{attrs:{id:"%E5%8F%AF%E4%BB%A5%E6%8A%8A%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A4%A7%E8%87%B4%E5%88%86%E4%B8%BA%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#%E5%8F%AF%E4%BB%A5%E6%8A%8A%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A4%A7%E8%87%B4%E5%88%86%E4%B8%BA%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"}}),t._v(" 可以把组件生命周期大致分为三个阶段")]),n("ul",[n("li",[t._v("第一阶段：是组件第一次绘制阶段，在这里完成了组件的加载和初始化；")]),n("li",[t._v("第二阶段：是组件在运行和交互阶段，这个阶段组件可以处理用户交互，或者接收事件更新界面；")]),n("li",[t._v("第三阶段：是组件卸载消亡的阶段，，这里做一些组件的清理工作。")])]),n("h2",{attrs:{id:"%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5"}}),t._v(" 第一阶段")]),n("ol",[n("li",[t._v("getDefaultProps")])]),n("ul",[n("li",[t._v("再创建组件之前，先会调用getDefaultProps(),这是全局调用一次，严格来说不属于生命周期的一部分，在组件被创建并加载候，首先调用 getInitialState()，来初始化组件的状态。")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("componentWillMount")])]),n("ul",[n("li",[t._v("准备加载组建， 会调用componentWillMount()")]),n("li",[t._v("初始化状态后会调用render()")])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("componentDidMount")])]),n("ul",[n("li",[t._v("组件加载完成时调用")])]),n("h2",{attrs:{id:"%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5"}}),t._v(" 第二阶段")]),n("ol",[n("li",[t._v("componentWillReceiveProps")])]),n("ul",[n("li",[t._v("在组建收到新的Props值时会调用")]),n("li",[t._v("通过调用 this.setState()来更新组建状态")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("shouldComponentUpdata")])]),n("ul",[n("li",[t._v("组件收到新的属性值和状态变化时会触发")]),n("li",[t._v("这个函数的返回值决定是否更新组件： true(默认) 更新 继续向后走， 否则 不更新 进入等待状态 大型项目中 有自己重载这个函数，决定是否更新，能有效提高性能")])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("componentWillUpdata")])]),n("ul",[n("li",[t._v("如果组件状态或者属性改变，并且上面的 shouldComponentUpdate(…) 返回为 true，就会开始准更新组件，并调用 componentWillUpdate()")]),n("li",[t._v("在这个函数里面，你就不能使用 this.setState 来修改状态。这个函数调用之后，就会把 nextProps 和 nextState 分别设置到 this.props 和 this.state 中。紧接着这个函数，就会调用 render() 来更新界面了")])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("componentDidUpdata")])]),n("ul",[n("li",[t._v("调用了 render() 更新完成界面之后，会调用 componentDidUpdate()")])]),n("h2",{attrs:{id:"%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5"}}),t._v(" 第三阶段")]),n("ol",[n("li",[t._v("componentWillUnmount")])]),n("ul",[n("li",[t._v("当组件要被从界面上移除的时候，就会调用 componentWillUnmount()")]),n("li",[t._v("在这个函数中，可以做一些组件相关的清理工作，例如取消计时器、网络请求等。")])]),n("h2",{attrs:{id:"%E6%80%BB%E7%BB%93"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#%E6%80%BB%E7%BB%93"}}),t._v(" 总结")]),n("pre",{staticClass:"hljs"},[n("code",[t._v("生命周期                        调用次数                能否使用 setSate()\ngetDefaultProps \t        1(全局调用一次) \t            否\ngetInitialState \t        1 \t                            否\ncomponentWillMount \t        1 \t                            是\nrender \t                        >=1 \t                            否\ncomponentDidMount \t        1 \t                            是\ncomponentWillReceiveProps \t>=0 \t                            是\nshouldComponentUpdate \t        >=0 \t                            否\ncomponentWillUpdate \t        >=0 \t                            否\ncomponentDidUpdate \t        >=0 \t                            否\ncomponentWillUnmount \t        1 \t                            否")])])])}],o=n("2877"),E={},s=Object(o["a"])(E,a,l,!1,null,null,null);e["default"]=s.exports}}]);